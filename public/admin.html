<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin â€” Encrypted Chat</title>
</head>
<body>
  <div id="admin-app" style="max-width:980px;margin:12px auto;">
    <section id="admin-login">
      <h1>Admin Login</h1>
      <div style="display:flex;gap:8px;align-items:center;">
        <input id="admin-username" placeholder="Admin username" />
        <input id="admin-password" placeholder="Admin password" type="password" />
        <button id="admin-login-btn">Login</button>
      </div>
      <p style="color:#888">Must authenticate to access admin controls.</p>
    </section>

    <section id="admin-panel" style="display:none">
      <h2>Admin Controls</h2>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <button id="btn-refresh-rooms">Refresh rooms</button>
        <button id="btn-download-rooms">Download rooms JSON</button>
      </div>

      <h3>Rooms</h3>
      <ul id="admin-rooms"></ul>

      <h3>Impersonate / Join</h3>
      <div style="display:flex;gap:8px;align-items:center;">
        <input id="imp-room" placeholder="Room ID or invite token" style="min-width:220px" />
        <input id="imp-username" placeholder="Username to impersonate" />
        <button id="imp-join">Impersonate & Join</button>
      </div>

      <h3>Sync / Restore chats</h3>
      <p>Paste cleaned rooms JSON (array of room objects) and click Sync to replace current rooms.</p>
      <textarea id="sync-json" rows="6" style="width:100%"></textarea>
      <div style="display:flex;gap:8px;margin-top:8px;">
        <button id="btn-sync">Sync Chats</button>
        <button id="btn-delete-room">Delete Selected Room</button>
        <select id="delete-room-select"><option value="">Select room to delete</option></select>
      </div>

      <h3>Banlist</h3>
      <p>Paste a JSON array of usernames to ban globally (example: ["alice","bob"])</p>
      <textarea id="ban-json" rows="3" style="width:100%"></textarea>
      <div style="display:flex;gap:8px;margin-top:8px;">
        <button id="btn-upload-ban">Upload Banlist</button>
        <button id="btn-view-ban">View Current Banlist</button>
      </div>

      <div id="admin-notices" style="margin-top:12px;color:#9aa5b1"></div>
    </section>
  </div>

  <!-- INJECT_SCRIPTS -->
</body>
</html>
